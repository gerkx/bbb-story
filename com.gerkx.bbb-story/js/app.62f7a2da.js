(function(e){function t(t){for(var a,i,s=t[0],c=t[1],l=t[2],u=0,d=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);p&&p(t);while(d.length)d.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(a=!1)}a&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},o=[];function i(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"39aa5546"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,a){n=r[e]=[t,a]}));t.push(n[2]=a);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=i(e);var l=new Error;o=function(t){c.onerror=c.onload=null,clearTimeout(u);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",l.name="ChunkLoadError",l.type=a,l.request=o,n[1](l)}r[e]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var p=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"002f":function(e,t,n){"use strict";var a=n("df91"),r=n.n(a);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-app-bar",{attrs:{app:"",color:"grey-darken3",dense:"",dark:""}},[n("v-tabs",{attrs:{color:"white"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",{key:"import",attrs:{to:"/import"}},[e._v("Import")]),n("v-tab",{key:"supers",attrs:{to:"/supers"}},[e._v("Supers")]),n("v-tab",{key:"export",attrs:{to:"/export"}},[e._v("Export")])],1),n("v-spacer"),n("v-btn",{attrs:{icon:""},on:{click:e.reload}},[n("v-icon",[e._v("mdi-reload")])],1)],1),n("v-main",[n("router-view")],1)],1)},o=[],i=(n("99af"),n("b0c0"),{name:"App",components:{},mounted:function(){this.csInterface=new CSInterface,this.loadJSX("json.jsx"),this.loadJSX("extendscript.jsx"),this.$router.push("export").catch((function(){}))},data:function(){return{csInterface:null,tab:null,pages:[{tab:"beep",content:"boop"},{tab:"herp",content:"derp"}]}},methods:{reload:function(){location.reload()},loadJSX:function(e){this.csInterface.evalScript("$.evalFile('".concat(this.csInterface.getSystemPath(SystemPath.EXTENSION),"/jsx/").concat(e,"')"))},focus:function(){console.log(this.$route.name)}}}),s=i,c=n("2877"),l=n("6544"),u=n.n(l),p=n("7496"),d=n("40dc"),m=n("8336"),f=n("132d"),v=n("f6c4"),h=n("2fa4"),b=n("71a3"),g=n("fe57"),x=Object(c["a"])(s,r,o,!1,null,null,null),S=x.exports;u()(x,{VApp:p["a"],VAppBar:d["a"],VBtn:m["a"],VIcon:f["a"],VMain:v["a"],VSpacer:h["a"],VTab:b["a"],VTabs:g["a"]});n("d3b7");var k=n("8c4f"),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("NameSeqModal",{attrs:{linealName:e.lineal.name,modal:e.animaticSequenceNameModal},on:{cancel:e.toggleAnimaticSequenceNameModal,ok:e.createAnimatic}}),n("ChooseLinealModal",{attrs:{modal:e.linealSequenceModal,loading:e.linealSequenceLoading,sequences:e.sequences},on:{cancel:e.toggleLinealSequenceModal,ok:e.setLineal}}),n("v-row",{staticClass:"mb-2 px-2"},[n("v-btn",{staticClass:"picker",attrs:{color:e.xml.color,block:""},on:{click:e.chooseXMLFile}},[n("v-icon",{staticClass:"pr-2"},[e._v("mdi-xml")]),n("span",[e._v(e._s(e.xml.name))])],1)],1),n("v-row",{staticClass:"mb-2 px-2"},[n("v-btn",{staticClass:"picker",attrs:{color:e.video.color,block:""},on:{click:e.chooseVideoFile}},[n("v-icon",{staticClass:"pr-2"},[e._v("mdi-file-video")]),n("span",[e._v(e._s(e.video.name))])],1)],1),n("v-row",{staticClass:"mb-2 px-2"},[n("v-btn",{staticClass:"picker",attrs:{color:e.lineal.color,block:""},on:{click:e.chooseLineal}},[n("v-icon",{staticClass:"pr-2"},[e._v("mdi-chart-timeline")]),n("span",[e._v(e._s(e.lineal.name))])],1)],1),n("v-row",{staticClass:"mb-2 px-2",attrs:{justify:"center"}},[n("v-btn",{staticClass:"picker",attrs:{disabled:!e.enableCreate,block:"",outlined:""},on:{click:e.toggleAnimaticSequenceNameModal}},[n("v-icon",{staticClass:"pr-2",attrs:{small:""}},[e._v("mdi-wrench")]),n("span",[e._v("Hacer animatic")])],1)],1)],1)},w=[],q=(n("7db0"),n("caad"),n("a15b"),n("d81d"),n("ac1f"),n("2532"),n("1276"),n("96cf"),n("1da1")),C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:""},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[n("v-btn",{staticClass:"mt-n8",attrs:{fab:"",absolute:"",right:"",icon:"",small:""},on:{click:e.cancel}},[n("v-icon",{attrs:{color:"grey"}},[e._v("mdi-close")])],1),n("v-card",[n("v-form",{staticClass:"pa-6",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-container",[n("v-row",[n("v-text-field",{attrs:{label:"Nombre de la secuencia",rules:e.nameRules,dense:""},model:{value:e.formName,callback:function(t){e.formName=t},expression:"formName"}}),n("v-btn",{staticClass:"ml-2",attrs:{color:"primary",disabled:!e.valid},on:{click:e.ok}},[e._v(" OK ")])],1)],1)],1)],1)],1)},O=[],_={name:"NameSeqModal",props:{modal:{type:Boolean,required:!0},linealName:{type:String,default:"monster_XXX_lineal_vXXX"}},data:function(){return{valid:!1,name:null,nameRules:[function(e){return!!e||"Se requiere un nombre"}],nameDirty:!1}},computed:{formName:{get:function(){if(!this.name&&!this.nameDirty){var e=this.linealName.split("lineal")[0];return"".concat(e,"animatic_v001")}return this.name},set:function(e){this.nameDirty=!0,this.name=e?e.split(" ").join("_"):null}}},methods:{cancel:function(){this.$emit("cancel");var e=this.linealName.split("lineal")[0];this.name="".concat(e,"animatic_v001"),this.nameDirty=!1},ok:function(){this.$emit("ok",this.formName);var e=this.linealName.split("lineal")[0];this.name="".concat(e,"animatic_v001"),this.nameDirty=!1}}},j=_,P=n("b0af"),M=n("a523"),V=n("169a"),L=n("4bd4"),N=n("0fd9"),E=n("8654"),T=Object(c["a"])(j,C,O,!1,null,null,null),A=T.exports;u()(T,{VBtn:m["a"],VCard:P["a"],VContainer:M["a"],VDialog:V["a"],VForm:L["a"],VIcon:f["a"],VRow:N["a"],VTextField:E["a"]});var I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:""},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[n("v-btn",{staticClass:"mt-n8",attrs:{fab:"",absolute:"",right:"",icon:"",small:""},on:{click:e.cancel}},[n("v-icon",{attrs:{color:"grey"}},[e._v("mdi-close")])],1),n("v-card",[n("v-form",{staticClass:"pa-6",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-container",[n("v-row",[n("v-select",{attrs:{items:e.sortedSeq,disabled:e.loading,rules:e.rules,"item-text":"name","item-value":"sequenceID",label:"Elegir la secuencia lineal"},model:{value:e.lineal,callback:function(t){e.lineal=t},expression:"lineal"}}),n("v-btn",{staticClass:"ml-2",attrs:{color:"primary",disabled:!e.valid||!e.lineal},on:{click:e.ok}},[e._v(" OK ")])],1)],1)],1),n("v-progress-linear",{attrs:{active:e.loading,indeterminate:""}})],1)],1)},D=[],R=(n("4de4"),n("2909")),B={name:"ChooseLinealModal",props:{modal:{type:Boolean,required:!0},loading:{type:Boolean,required:!0},sequences:{type:Array,required:!0},xml:{type:Object,default:null}},data:function(){return{lineal:null,valid:!1,rules:[function(e){return!!e||"Hay que seleccionar una secuencia"}]}},computed:{sortedSeq:function(){var e=this.sequences.filter((function(e){return e.name.toLowerCase().includes("lineal")})),t=this.sequences.filter((function(e){return!e.name.toLowerCase().includes("lineal")}));e.sort((function(e,t){var n=e.name.toLowerCase(),a=t.name.toLowerCase();return n<a?-1:n>a?1:0})).reverse(),t.sort((function(e,t){var n=e.name.toLowerCase(),a=t.name.toLowerCase();return n<a?-1:n>a?1:0}));var n=[].concat(Object(R["a"])(e),Object(R["a"])(t));return n}},methods:{cancel:function(){this.$emit("cancel")},ok:function(){this.$emit("ok",this.lineal)}}},X=B,F=n("8e36"),$=n("b974"),J=Object(c["a"])(X,I,D,!1,null,null,null),H=J.exports;u()(J,{VBtn:m["a"],VCard:P["a"],VContainer:M["a"],VDialog:V["a"],VForm:L["a"],VIcon:f["a"],VProgressLinear:F["a"],VRow:N["a"],VSelect:$["a"]});var K={random:function(){var e=this.colors.length,t=Math.floor(Math.random()*Math.floor(e));return this.colors[t]},colors:["#C62828","#E64A19","#FFA000","#9E9D24","#388E3C","#009688","#0097A7","#0277BD","#303F9F","#512DA8","#6A1B9A","#C2185B"],neutral:"#212121",ok:"#0277BD"},z=new CSInterface,G=cep_node.require("fs"),Q=cep_node.require("path"),U=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[!1,!1,"Cargar una secuencia en XML","",t],a=(e=window.cep.fs).showOpenDialog.apply(e,n);return 0!==a.err?console.log("oops"):a?a.data[0]:null},W=function(e,t){var n=Q.dirname(e),a=G.readdirSync(n);console.log(a);var r="",o=[],i=t.map((function(e){if(a.includes(e.file.name))e.file.path=Q.join(n,e.file.name);else if(e.file.path=null,o.includes(e.file.name))e.file.path=Q.join(r,e.file.name);else{var t,i=[!1,!1,"Localizar ".concat(e.file.name),n,[Q.extname(e.file.name)]],s=(t=window.cep.fs).showOpenDialog.apply(t,i);if(s){var c=s.data[0];e.file.path=c,r=Q.dirname(c),o=G.readdirSync(r)}}return e}));console.log(i);var s=i.filter((function(e){return!e.file.path})).map((function(e){return e.file.name}));return s.length>0&&alert("Los siguientes clips no tienen archivos vinculados y no serán importados: ".concat(s.join(", "))),i.filter((function(e){return e.file.path}))},Y=function(){var e=z.getSystemPath(SystemPath.EXTENSION),t=Q.join(e,"epr"),n=G.readdirSync(t),a=n.find((function(e){return"ProRes422_14Ch.epr"==e}));return{path:t,presets:n,model:a}},Z=(n("4160"),n("159b"),n("5530")),ee=cep_node.require("fs"),te=n("7a51"),ne=function(e){var t=ee.readFileSync(e,"utf8"),n=te.parse(t,{},!0).xmeml.sequence;return n},ae=function(e){var t=e.media.video,n=e.rate.timebase,a=Array.isArray(t.track)?t.track[0]:t.track,r=a.clipitem,o=a.transitionitem;Array.isArray(o)||(o=[o]);var i=r.map((function(e){var t=e.start,a=e.end,r=e.duration;return-1===t&&(t=o[0].start,o.shift()),-1===a&&(a=o[0].start),{in:t/n,out:a/n,start:t/n,end:a/n,duration:r/n}}));return i},re=function(e){console.log(e);var t=e.media.audio,n=e.rate.timebase,a=Array.isArray(t.track)?t.track.filter((function(e,t){return t%2===0})).map((function(e){return e.clipitem})):t.track.clipitem;return a.map((function(e){return Array.isArray(e)||(e=[e]),e.map((function(e){return{start:e.start/n,end:e.end/n,in:e.in/n,out:e.out/n,duration:e.duration/n,file:{name:e.file.name,path:e.file.pathurl}}}))}))},oe=function(e){var t=ne(e);return{audio:re(t),video:ae(t)}},ie=n("e1bd"),se=function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",t=Object(ie["a"])(e,9);return t()},ce=new CSInterface,le=cep_node.require("path"),ue=function(){return new Promise((function(e,t){ce.evalScript("getSequences()",(function(n){var a=JSON.parse(n);return a.error?t(a):e(a)}))}))},pe=function(e,t){var n=oe(e),a=[],r=[];return n.audio.forEach((function(e){e.forEach((function(e){var n=le.extname(e.file.name),o=le.basename(e.file.name,n);o===t.name?a.push(e):r.push(e)}))})),{linealChunks:a,nonLinealChunks:r}},de=function(e,t){var n=[];return e.audioTracks.forEach((function(e,a){e.clips.filter((function(e){return e.start<t.out&&e.end>t.in})).forEach((function(r){var o=Object(Z["a"])({},r);if(o.start<t.in){var i=t.in-o.start;o.inPoint+=i,o.start=t.start}else if(o.start>t.in){var s=o.start-t.in;o.start=t.start+s}else o.start=t.start;if(o.end>t.out){var c=o.end-t.out;o.outPoint-=c}n.push(Object(Z["a"])(Object(Z["a"])({},o),{},{track:{name:e.name,id:e.id,idx:a}}))}))})),n},me=function(e,t){var n=t.audioTracks.length,a=[];return e.forEach((function(e){var t=Object(Z["a"])(Object(Z["a"])({},e),{},{inPoint:e.in,outPoint:e.out}),r=a.filter((function(e){return e.start<t.end&&e.end>t.start}));if(r.length<1)a.push(Object(Z["a"])(Object(Z["a"])({},t),{},{track:{idx:n}}));else{var o=r.map((function(e){return e.track.idx})).sort((function(e,t){return e-t})).reverse();o.includes(n)?a.push(Object(Z["a"])(Object(Z["a"])({},t),{},{track:{idx:o[0]+1}})):a.push(Object(Z["a"])(Object(Z["a"])({},t),{},{track:{idx:n}}))}})),a},fe=function(e,t){var n=[];return e.forEach((function(e){var a={in:e.in,out:e.out,start:e.start,end:e.end,duration:e.duration};n.push.apply(n,Object(R["a"])(de(t,a)))})),n},ve=function(e,t,n){var a=W(n,e);return me(a,t)},he=function(e,t,n,a){var r=pe(e,n),o=r.linealChunks,i=r.nonLinealChunks,s=fe(o,n),c=ve(i,n,e),l=[].concat(Object(R["a"])(s),Object(R["a"])(c)).map((function(e){return e.track.idx})).sort((function(e,t){return e-t})).reverse()[0]+1,u=JSON.stringify({audio:{clips:[].concat(Object(R["a"])(s),Object(R["a"])(c)),numTracks:l},video:{file:{path:t,name:le.basename(t)},clips:oe(e).video},name:a,id:se()});console.log(JSON.parse(u)),ce.evalScript("assembleAnimaticSeq(".concat(u,")"),(function(e){console.log(JSON.parse(e))}))},be=function(e){var t=ce.getSystemPath(SystemPath.EXTENSION);return console.log(t),new Promise((function(n,a){ce.evalScript("createSupers(".concat(JSON.stringify(Object(Z["a"])(Object(Z["a"])({},e),{},{extPath:t})),")"),(function(e){return e?n(e):a(sucess)}))}))},ge=function(){return new Promise((function(e,t){ce.evalScript("getNumberOfVideoTracks()",(function(n){return n?e(n):t(n)}))}))},xe=function(e,t){var n=JSON.stringify({preset:e,shotPath:t});return new Promise((function(e,t){ce.evalScript("exportClips(".concat(n,")"),(function(n){var a=JSON.parse(n);return a.error?t(a):e(a)}))}))},Se=cep_node.require("path"),ke={name:"Import",components:{NameSeqModal:A,ChooseLinealModal:H},data:function(){return{valid:!1,xmlPath:null,videoPath:null,sequences:[],linealSequence:null,linealSequenceModal:!1,linealSequenceLoading:!1,animaticSequenceName:null,animaticSequenceNameModal:!1,colors:K.colors}},computed:{xml:function(){return this.xmlPath?{name:Se.basename(this.xmlPath),color:this.colors[6]}:{name:"Archivo de XML",color:K.neutral}},video:function(){return this.videoPath?{name:Se.basename(this.videoPath),color:this.colors[11]}:{name:"Archivo de vídeo",color:K.neutral}},lineal:function(){return this.linealSequence?{name:this.linealSequence.name,color:this.colors[4]}:{name:"Secuencia lineal",color:K.neutral}},enableCreate:function(){return!!(this.linealSequence&&this.videoPath&&this.xmlPath)}},methods:{toggleAnimaticSequenceNameModal:function(){this.animaticSequenceNameModal=!this.animaticSequenceNameModal},toggleLinealSequenceModal:function(){this.linealSequenceModal=!this.linealSequenceModal},toggleLinealSequenceLoading:function(){this.linealSequenceLoading=!this.linealSequenceLoading},createAnimatic:function(e){this.animaticSequenceName=e;var t=this.xmlPath.split("/").join(Se.sep),n=this.videoPath.split("/").join(Se.sep);this.toggleAnimaticSequenceNameModal(),he(t,n,this.linealSequence,e)},chooseXMLFile:function(){var e=U(["xml"]);e&&".xml"===Se.extname(e)&&(this.xmlPath=e)},chooseVideoFile:function(){var e=["mp4","mov","m4v"],t=U(e);t&&e.map((function(e){return".".concat(e)})).includes(Se.extname(t))&&(this.videoPath=t)},chooseLineal:function(){var e=this;return Object(q["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.toggleLinealSequenceLoading(),e.toggleLinealSequenceModal(),t.next=4,ue().catch((function(e){return console.log(e)}));case 4:n=t.sent,n&&(e.sequences=n,e.toggleLinealSequenceLoading());case 6:case"end":return t.stop()}}),t)})))()},setLineal:function(e){var t=this.sequences.find((function(t){return t.sequenceID==e}));console.log(t),t&&(this.linealSequence=t),this.toggleLinealSequenceModal()}}},ye=ke,we=(n("9fa8"),Object(c["a"])(ye,y,w,!1,null,"3b92b552",null)),qe=we.exports;u()(we,{VBtn:m["a"],VContainer:M["a"],VIcon:f["a"],VRow:N["a"]});var Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"pa-5"},[n("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-row",[n("v-col",{staticClass:"pb-0"},[n("v-text-field",{attrs:{label:"Programa",rules:[function(e){return!!e||"Hay que indicar la programa"}],required:"",dense:""},model:{value:e.program,callback:function(t){e.program=t},expression:"program"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{label:"Temporada",rules:[function(e){return!!e||"Hay que indicar la temporada"}],required:"",dense:""},model:{value:e.season,callback:function(t){e.season=t},expression:"season"}})],1),n("v-col",{attrs:{cols:"6"}},[n("v-text-field",{attrs:{label:"Episodio",rules:[function(e){return!!e||"Hay que indicar el episodio"}],required:"",dense:""},model:{value:e.episode,callback:function(t){e.episode=t},expression:"episode"}})],1)],1),n("v-row",[n("v-col",[n("v-slider",{attrs:{min:"1",label:"Pista",max:e.maxTrack,"thumb-label":"",dense:""},model:{value:e.target,callback:function(t){e.target=t},expression:"target"}})],1),n("v-col",{attrs:{cols:"auto"}},[n("span",[e._v(e._s(e.target))])])],1),n("v-row",{staticClass:"px-2"},[n("v-btn",{attrs:{block:"",disabled:!e.valid},on:{click:e.makeSupers}},[n("v-icon",[e._v("mdi-image")]),n("span",{staticClass:"px-2",attrs:{color:""}},[e._v("Supers")])],1)],1)],1)],1)},Oe=[],_e={name:"Supers",data:function(){return{valid:!1,program:null,season:null,episode:null,numTracks:null,targetTrackModel:null,targetDirty:!1}},computed:{maxTrack:function(){return this.numTracks?this.numTracks:1},target:{get:function(){return this.targetDirty?this.targetTrackModel:this.numTracks?this.numTracks:1},set:function(e){this.targetDirty=!0,this.targetTrackModel=e}}},mounted:function(){this.getNumTracks(),window.addEventListener("focus",this.focus);var e=localStorage.getItem("superStore");if(e){var t=JSON.parse(e),n=t.program,a=t.season,r=t.episode;this.program=n,this.season=a,this.episode=r}},deactivated:function(){console.log("unmounted")},methods:{setLocalStore:function(){var e={program:this.program,season:this.season,episode:this.episode};localStorage.setItem("superStore",JSON.stringify(e))},makeSupers:function(){var e=this;return Object(q["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.setLocalStore(),t.next=3,be({program:e.program,season:e.season,episode:e.episode,target:e.target});case 3:n=t.sent,console.log(n);case 5:case"end":return t.stop()}}),t)})))()},getNumTracks:function(){var e=this;return Object(q["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ge();case 2:n=t.sent,n&&(e.numTracks=n,e.targetDirty||(e.targetTrackModel=n));case 4:case"end":return t.stop()}}),t)})))()},focus:function(){var e=this;return Object(q["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.$route.name.toLowerCase(),"supers"!=n){t.next=7;break}return console.log("route: "+e.$route.name),t.next=5,ge();case 5:a=t.sent,a&&(e.numTracks=a);case 7:case"end":return t.stop()}}),t)})))()}}},je=_e,Pe=n("62ad"),Me=n("ba0d"),Ve=Object(c["a"])(je,Ce,Oe,!1,null,null,null),Le=Ve.exports;u()(Ve,{VBtn:m["a"],VCol:Pe["a"],VContainer:M["a"],VForm:L["a"],VIcon:f["a"],VRow:N["a"],VSlider:Me["a"],VTextField:E["a"]});var Ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",[n("v-row",{staticClass:"mb-2 px-2"},[n("v-col",[n("v-select",{attrs:{items:e.presetOptions,label:"preset","hide-details":"",dense:""},model:{value:e.presetModel,callback:function(t){e.presetModel=t},expression:"presetModel"}})],1)],1),n("v-row",{staticClass:"mb-2 px-2"},[n("v-btn",{staticClass:"picker",attrs:{block:"",color:e.pathBtnColor},on:{click:e.chooseExportPath}},[n("v-icon",{staticClass:"pr-2"},[e._v("mdi-folder-open")]),n("span",[e._v(e._s(e.exportPathBtn))])],1)],1),n("v-row",{staticClass:"mb-2 px-2"},[n("v-btn",{staticClass:"picker",attrs:{block:"",disabled:e.exportDisabled},on:{click:e.exportShots}},[n("v-icon",{staticClass:"pr-2"},[e._v("mdi-content-save")]),n("span",[e._v("Export")])],1)],1)],1)},Ee=[],Te=(n("a434"),cep_node.require("path")),Ae=cep_node.require("fs"),Ie={name:"Export",data:function(){return{presets:[],presetModel:null,exportPath:null}},mounted:function(){this.presets=Y(),this.presets.model&&!this.presetModel&&(this.presetModel=this.presets.model);var e=localStorage.getItem("animaticExportPath");e&&!this.exportPath&&Ae.existsSync(e)&&(this.exportPath=e)},computed:{presetOptions:function(){return this.presets.presets?this.presets.presets:[]},exportPathBtn:function(){if(!this.exportPath)return"Elegir una ruta de exportar";var e=this.exportPath;if(this.exportPath.length>59){var t=e.split("\\");console.log(t),t.splice(2,t.length-3,"..."),console.log(t),e=t.join("\\")}return e},pathBtnColor:function(){return this.exportPath?"green":"grey"},exportDisabled:function(){return!this.presetModel||!this.exportPath}},methods:{test:function(){console.log("test"),console.log(Y())},chooseExportPath:function(){var e,t=[!1,!0,"Ruta para sacar los planos"];this.exportPath?t.push(this.exportPath):t.push("");var n=(e=window.cep.fs).showOpenDialog.apply(e,t);if(n){if(0!==n.err)return console.log(n.err);var a=n.data[0].split("/").join(Te.sep);return localStorage.setItem("animaticExportPath",a),this.exportPath=a,a}},exportShots:function(){var e=this;return Object(q["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=Te.join(e.presets.path,e.presetModel),a=xe(n,e.exportPath),a&&console.log(a);case 3:case"end":return t.stop()}}),t)})))()}}},De=Ie,Re=(n("002f"),Object(c["a"])(De,Ne,Ee,!1,null,"2025f523",null)),Be=Re.exports;u()(Re,{VBtn:m["a"],VCol:Pe["a"],VContainer:M["a"],VIcon:f["a"],VRow:N["a"],VSelect:$["a"]}),a["a"].use(k["a"]);var Xe=[{path:"/import",name:"Import",component:qe},{path:"/supers",name:"Supers",component:Le},{path:"/export",name:"Export",component:Be},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}],Fe=new k["a"]({routes:Xe}),$e=Fe,Je=n("2f62");a["a"].use(Je["a"]);var He=new Je["a"].Store({state:{},mutations:{},actions:{},modules:{}}),Ke=n("f309");a["a"].use(Ke["a"]);var ze=new Ke["a"]({theme:{dark:!0}});n("d5e8"),n("5363");a["a"].config.productionTip=!1,new a["a"]({router:$e,store:He,vuetify:ze,render:function(e){return e(S)}}).$mount("#app")},"9fa8":function(e,t,n){"use strict";var a=n("cfb2"),r=n.n(a);r.a},cfb2:function(e,t,n){},df91:function(e,t,n){}});
//# sourceMappingURL=app.62f7a2da.js.map